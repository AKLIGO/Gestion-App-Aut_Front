<div class="p-6 max-w-md mx-auto bg-white rounded-xl shadow-lg space-y-6">
  <h2 class="text-2xl font-bold text-gray-800 text-center mb-4">Ajouter une image à un véhicule</h2>

  <!-- Sélection du véhicule -->
  <div>
    <label class="block mb-2 font-medium text-gray-700">Sélectionner le véhicule :</label>
    <select [(ngModel)]="immatriculationVehicule"
            class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
      <option value="" disabled selected>-- Choisir un véhicule --</option>
      <option *ngFor="let v of vehicules" [value]="v.immatriculation">
        {{ v.immatriculation }} - {{ v.marque }}
      </option>
    </select>
  </div>

  <!-- Libellé -->
  <div>
    <label class="block mb-2 font-medium text-gray-700">Libellé de l’image :</label>
    <input type="text" [(ngModel)]="libelle" placeholder="ex: Photo avant"
           class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/>
  </div>

  <!-- Fichier -->
  <div>
    <label class="block mb-2 font-medium text-gray-700">Choisir une image :</label>
    <input type="file" (change)="onFileSelected($event)"
           class="w-full border border-gray-300 rounded-lg px-3 py-2 cursor-pointer
                  hover:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
  </div>

  <!-- Preview de l'image -->
  <div *ngIf="file" class="text-center">
    <p class="mb-2 font-medium text-gray-700">Aperçu :</p>
    <img [src]="file ? (file | filePreview) : ''" alt="Preview" class="mx-auto max-h-48 rounded-md shadow-sm"/>
  </div>

  <!-- Bouton -->
  <div class="text-center">
    <button (click)="uploadImage()"
            class="bg-blue-600 text-white font-semibold px-6 py-2 rounded-lg shadow-md
                   hover:bg-blue-700 transition-colors duration-300">
      Envoyer
    </button>
  </div>

  <!-- Message de succès / erreur -->
  <p *ngIf="message" 
     [ngClass]="{'text-green-600': isSuccess, 'text-red-600': !isSuccess}"
     class="text-center font-medium">
    {{ message }}
  </p>
</div>
